// Mock dataset of US cities with state abbreviations
export const cityData = [
  { city: "New York", state: "NY", fullName: "New York, NY" },
  { city: "Los Angeles", state: "CA", fullName: "Los Angeles, CA" },
  { city: "Chicago", state: "IL", fullName: "Chicago, IL" },
  { city: "Houston", state: "TX", fullName: "Houston, TX" },
  { city: "Phoenix", state: "AZ", fullName: "Phoenix, AZ" },
  { city: "Philadelphia", state: "PA", fullName: "Philadelphia, PA" },
  { city: "San Antonio", state: "TX", fullName: "San Antonio, TX" },
  { city: "San Diego", state: "CA", fullName: "San Diego, CA" },
  { city: "Dallas", state: "TX", fullName: "Dallas, TX" },
  { city: "San Jose", state: "CA", fullName: "San Jose, CA" },
  { city: "Austin", state: "TX", fullName: "Austin, TX" },
  { city: "Jacksonville", state: "FL", fullName: "Jacksonville, FL" },
  { city: "Fort Worth", state: "TX", fullName: "Fort Worth, TX" },
  { city: "Columbus", state: "OH", fullName: "Columbus, OH" },
  { city: "San Francisco", state: "CA", fullName: "San Francisco, CA" },
  { city: "Charlotte", state: "NC", fullName: "Charlotte, NC" },
  { city: "Indianapolis", state: "IN", fullName: "Indianapolis, IN" },
  { city: "Seattle", state: "WA", fullName: "Seattle, WA" },
  { city: "Denver", state: "CO", fullName: "Denver, CO" },
  { city: "Washington", state: "DC", fullName: "Washington, DC" },
  { city: "Boston", state: "MA", fullName: "Boston, MA" },
  { city: "El Paso", state: "TX", fullName: "El Paso, TX" },
  { city: "Nashville", state: "TN", fullName: "Nashville, TN" },
  { city: "Detroit", state: "MI", fullName: "Detroit, MI" },
  { city: "Portland", state: "OR", fullName: "Portland, OR" },
  { city: "Memphis", state: "TN", fullName: "Memphis, TN" },
  { city: "Oklahoma City", state: "OK", fullName: "Oklahoma City, OK" },
  { city: "Las Vegas", state: "NV", fullName: "Las Vegas, NV" },
  { city: "Louisville", state: "KY", fullName: "Louisville, KY" },
  { city: "Baltimore", state: "MD", fullName: "Baltimore, MD" },
  { city: "Milwaukee", state: "WI", fullName: "Milwaukee, WI" },
  { city: "Albuquerque", state: "NM", fullName: "Albuquerque, NM" },
  { city: "Tucson", state: "AZ", fullName: "Tucson, AZ" },
  { city: "Fresno", state: "CA", fullName: "Fresno, CA" },
  { city: "Sacramento", state: "CA", fullName: "Sacramento, CA" },
  { city: "Mesa", state: "AZ", fullName: "Mesa, AZ" },
  { city: "Kansas City", state: "MO", fullName: "Kansas City, MO" },
  { city: "Atlanta", state: "GA", fullName: "Atlanta, GA" },
  { city: "Long Beach", state: "CA", fullName: "Long Beach, CA" },
  { city: "Colorado Springs", state: "CO", fullName: "Colorado Springs, CO" },
  { city: "Raleigh", state: "NC", fullName: "Raleigh, NC" },
  { city: "Miami", state: "FL", fullName: "Miami, FL" },
  { city: "Oakland", state: "CA", fullName: "Oakland, CA" },
  { city: "Minneapolis", state: "MN", fullName: "Minneapolis, MN" },
  { city: "Tulsa", state: "OK", fullName: "Tulsa, OK" },
  { city: "Cleveland", state: "OH", fullName: "Cleveland, OH" },
  { city: "Wichita", state: "KS", fullName: "Wichita, KS" },
  { city: "Arlington", state: "TX", fullName: "Arlington, TX" },
  { city: "New Orleans", state: "LA", fullName: "New Orleans, LA" },
  { city: "Bakersfield", state: "CA", fullName: "Bakersfield, CA" },
  { city: "Tampa", state: "FL", fullName: "Tampa, FL" },
  { city: "Honolulu", state: "HI", fullName: "Honolulu, HI" },
  { city: "Aurora", state: "CO", fullName: "Aurora, CO" },
  { city: "Anaheim", state: "CA", fullName: "Anaheim, CA" },
  { city: "Santa Ana", state: "CA", fullName: "Santa Ana, CA" },
  { city: "St. Louis", state: "MO", fullName: "St. Louis, MO" },
  { city: "Riverside", state: "CA", fullName: "Riverside, CA" },
  { city: "Corpus Christi", state: "TX", fullName: "Corpus Christi, TX" },
  { city: "Lexington", state: "KY", fullName: "Lexington, KY" },
  { city: "Pittsburgh", state: "PA", fullName: "Pittsburgh, PA" },
  { city: "Anchorage", state: "AK", fullName: "Anchorage, AK" },
  { city: "Stockton", state: "CA", fullName: "Stockton, CA" },
  { city: "Cincinnati", state: "OH", fullName: "Cincinnati, OH" },
  { city: "St. Paul", state: "MN", fullName: "St. Paul, MN" },
  { city: "Toledo", state: "OH", fullName: "Toledo, OH" },
  { city: "Newark", state: "NJ", fullName: "Newark, NJ" },
  { city: "Greensboro", state: "NC", fullName: "Greensboro, NC" },
  { city: "Plano", state: "TX", fullName: "Plano, TX" },
  { city: "Henderson", state: "NV", fullName: "Henderson, NV" },
  { city: "Lincoln", state: "NE", fullName: "Lincoln, NE" },
  { city: "Buffalo", state: "NY", fullName: "Buffalo, NY" },
  { city: "Fort Wayne", state: "IN", fullName: "Fort Wayne, IN" },
  { city: "Jersey City", state: "NJ", fullName: "Jersey City, NJ" },
  { city: "Chula Vista", state: "CA", fullName: "Chula Vista, CA" },
  { city: "Orlando", state: "FL", fullName: "Orlando, FL" },
  { city: "St. Petersburg", state: "FL", fullName: "St. Petersburg, FL" },
  { city: "Norfolk", state: "VA", fullName: "Norfolk, VA" },
  { city: "Chandler", state: "AZ", fullName: "Chandler, AZ" },
  { city: "Laredo", state: "TX", fullName: "Laredo, TX" },
  { city: "Madison", state: "WI", fullName: "Madison, WI" },
  { city: "Durham", state: "NC", fullName: "Durham, NC" },
  { city: "Lubbock", state: "TX", fullName: "Lubbock, TX" },
  { city: "Winston-Salem", state: "NC", fullName: "Winston-Salem, NC" },
  { city: "Garland", state: "TX", fullName: "Garland, TX" },
  { city: "Glendale", state: "AZ", fullName: "Glendale, AZ" },
  { city: "Hialeah", state: "FL", fullName: "Hialeah, FL" },
  { city: "Reno", state: "NV", fullName: "Reno, NV" },
  { city: "Baton Rouge", state: "LA", fullName: "Baton Rouge, LA" },
  { city: "Irvine", state: "CA", fullName: "Irvine, CA" },
  { city: "Chesapeake", state: "VA", fullName: "Chesapeake, VA" },
  { city: "Irving", state: "TX", fullName: "Irving, TX" },
  { city: "Scottsdale", state: "AZ", fullName: "Scottsdale, AZ" },
  { city: "North Las Vegas", state: "NV", fullName: "North Las Vegas, NV" },
  { city: "Fremont", state: "CA", fullName: "Fremont, CA" },
  { city: "Gilbert", state: "AZ", fullName: "Gilbert, AZ" },
  { city: "San Bernardino", state: "CA", fullName: "San Bernardino, CA" },
  { city: "Boise", state: "ID", fullName: "Boise, ID" },
  { city: "Birmingham", state: "AL", fullName: "Birmingham, AL" },
  { city: "Sterling Heights", state: "MI", fullName: "Sterling Heights, MI" },
  { city: "Sterling", state: "VA", fullName: "Sterling, VA" },
  { city: "Sterling", state: "CO", fullName: "Sterling, CO" },
  { city: "Sterling", state: "IL", fullName: "Sterling, IL" },
  { city: "Sterling", state: "MA", fullName: "Sterling, MA" },
  { city: "Sterling", state: "ND", fullName: "Sterling, ND" },
]

// Function to filter cities based on input
export function filterCities(input: string) {
  if (!input || input.trim().length < 2) return []

  const normalizedInput = input.toLowerCase().trim()
  const words = normalizedInput.split(/\s+/)

  return cityData
    .filter((city) => {
      const fullNameLower = city.fullName.toLowerCase()
      const cityLower = city.city.toLowerCase()
      const stateLower = city.state.toLowerCase()

      // Check if any word in the input matches the beginning of city or state
      const wordMatches = words.some(
        (word) => cityLower.startsWith(word) || stateLower.startsWith(word) || fullNameLower.includes(word),
      )

      return wordMatches || fullNameLower.includes(normalizedInput) || cityLower.includes(normalizedInput)
    })
    .sort((a, b) => {
      // First prioritize exact matches
      const aExactMatch = a.fullName.toLowerCase() === normalizedInput
      const bExactMatch = b.fullName.toLowerCase() === normalizedInput

      if (aExactMatch && !bExactMatch) return -1
      if (!aExactMatch && bExactMatch) return 1

      // Then prioritize matches that start with the input
      const aStartsWithCity = a.city.toLowerCase().startsWith(normalizedInput)
      const bStartsWithCity = b.city.toLowerCase().startsWith(normalizedInput)

      if (aStartsWithCity && !bStartsWithCity) return -1
      if (!aStartsWithCity && bStartsWithCity) return 1

      // Then sort by city name length (shorter names first)
      return a.city.length - b.city.length
    })
    .slice(0, 6) // Limit to 6 results for better UX
}
